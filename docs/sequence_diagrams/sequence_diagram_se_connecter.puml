@startuml sequence diagram se connecter
title Se connecter

actor Utilisateur
participant "Main" as Main
participant "UserService" as UserService
participant "UserDAO" as UserDAO
database "Database" as DB

Utilisateur -> Main : choisir "Se connecter"
activate Main

Main -> Utilisateur : demander login
Utilisateur -> Main : saisir login
Main -> Utilisateur : demander mot de passe
Utilisateur -> Main : saisir mot de passe

Main -> UserService : getUserByLoginPassword(login, password)
activate UserService

UserService -> UserDAO : readByLoginPassword(login, password)
activate UserDAO

UserDAO -> DB : requête SQL
activate DB

DB --> UserDAO : résultat
deactivate DB

alt utilisateur trouvé
    UserDAO --> UserService : User
    UserService --> Main : User
    Main -> Utilisateur : afficher "Bonjour {user}"
else utilisateur non trouvé
    UserDAO --> UserService : null
    UserService --> Main : null
    Main -> Utilisateur : afficher "Login ou mot de passe incorrect"
end
deactivate UserDAO
deactivate UserService
deactivate Main

@enduml
