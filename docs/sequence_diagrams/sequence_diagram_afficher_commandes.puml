@startuml sequence diagram - Afficher les commandes

title Afficher les commandes
actor "Utilisateur connecté" as User
participant "Main" as Main
participant "OrderService" as OrderService
participant "OrderDAO" as OrderDAO
database "Base de données" as DB

User -> Main : choisir "Afficher mes commandes"
activate Main

Main -> OrderService : getOrderByUser(idUser)
activate OrderService

OrderService -> OrderDAO : readOrderByUser(idUser)
activate OrderDAO

OrderDAO -> DB : SELECT orders + customer + person
activate DB

DB --> OrderDAO : ResultSet
deactivate DB

OrderDAO --> OrderService : List<Order>
deactivate OrderDAO

OrderService --> Main : List<Order>
deactivate OrderService

alt liste non vide
    Main -> User : afficher la liste des commandes
else liste vide
    Main -> User : "Aucune commande trouvée"
end

deactivate Main

@enduml
